module.exports = {
  config: {
    name: "greetings",
    version: "3.0",
    author: "MOHAMMAD AKASH â¤ï¸â€ğŸ©¹",
    countDown: 0,
    role: 0,
    shortDescription: "à¦¸à¦¬ à¦§à¦°à¦¨à§‡à¦° à¦—à§à¦°à¦¿à¦Ÿà¦¿à¦‚, à¦¸à¦•à¦¾à¦², à¦°à¦¾à¦¤, à¦§à¦¨à§à¦¯à¦¬à¦¾à¦¦, à¦­à¦¾à¦²à§‹à¦¬à¦¾à¦¸à¦¾ à¦à¦° à¦°à¦¿à¦ªà§à¦²à¦¾à¦‡",
    longDescription: "à¦¯à§‡à¦•à§‹à¦¨à§‹ à¦®à§‡à¦¸à§‡à¦œà§‡ à¦—à§à¦°à¦¿à¦Ÿà¦¿à¦‚, à¦¸à¦•à¦¾à¦², à¦°à¦¾à¦¤, à¦§à¦¨à§à¦¯à¦¬à¦¾à¦¦, à¦­à¦¾à¦²à§‹à¦¬à¦¾à¦¸à¦¾ à¦¥à¦¾à¦•à¦²à§‡ à¦°à¦¿à¦ªà§à¦²à¦¾à¦‡ à¦•à¦°à¦¬à§‡à¥¤",
    category: "fun",
    guide: { en: "à¦¯à§‡à¦•à§‹à¦¨à§‹ à¦®à§‡à¦¸à§‡à¦œà§‡ à¦—à§à¦°à¦¿à¦Ÿà¦¿à¦‚ à¦²à¦¿à¦–à§à¦¨" }
  },

  onStart: async function () {},

  onChat: async function ({ event, api, usersData }) {
    const msg = event.body?.trim();
    if (!msg) return;

    const lowerMsg = msg.toLowerCase();

    // à¦‡à¦‰à¦œà¦¾à¦°à§‡à¦° à¦ªà§à¦°à§‹ à¦¨à¦¾à¦®
    let userName = "à¦¬à¦¨à§à¦§à§";
    try {
      const sender = await usersData.get(event.senderID);
      userName = sender?.name || "à¦¬à¦¨à§à¦§à§";
    } catch (e) {}

    // à¦¸à¦¬ à¦Ÿà§à¦°à¦¿à¦—à¦¾à¦° à¦¶à¦¬à§à¦¦
    const triggers = {
      hi: ["hi", "hello", "hellow", "helo", "hii", "hiii", "hlo", "heyy", "hey", "à¦¹à¦¾à¦‡", "à¦¹à§à¦¯à¦¾à¦²à§‹", "à¦¹à§‡à¦²à§‹", "à¦¹à¦¾à¦‡à¦‡"],
      salam: ["à¦†à¦¸à¦¸à¦¾à¦²à¦¾à¦®à§ à¦†à¦²à¦¾à¦‡à¦•à§à¦®", "à¦¸à¦¾à¦²à¦¾à¦®", "à¦†à¦¸à¦¸à¦¾à¦²à¦¾à¦®à§", "assalamu alaikum", "assalamualaikum", "salam", "w salam"],
      gm: ["gm", "good morning", "à¦¸à§à¦ªà§à¦°à¦­à¦¾à¦¤", "à¦¶à§à¦­ à¦¸à¦•à¦¾à¦²", "morning"],
      gn: ["gn", "good night", "à¦¶à§à¦­ à¦°à¦¾à¦¤à§à¦°à¦¿", "à¦—à§à¦¡ à¦¨à¦¾à¦‡à¦Ÿ", "night"],
      thanks: ["thanks", "thank you", "à¦§à¦¨à§à¦¯à¦¬à¦¾à¦¦", "à¦¶à§à¦•à¦°à¦¿à¦¯à¦¼à¦¾", "thx", "tq"],
      love: ["love you", "i love you", "à¦­à¦¾à¦²à§‹à¦¬à¦¾à¦¸à¦¿", "à¦²à¦¾à¦­ à¦‡à¦‰", "luv u"],
      bye: ["bye", "tata", "see you", "à¦–à§‹à¦¦à¦¾ à¦¹à¦¾à¦«à§‡à¦œ", "à¦†à¦²à§à¦²à¦¾à¦¹ à¦¹à¦¾à¦«à§‡à¦œ", "bye bye"]
    };

    // à¦°à¦¿à¦ªà§à¦²à¦¾à¦‡ à¦²à¦¿à¦¸à§à¦Ÿ
    const replies = {
      hi: [
        `ğŸŒŸ à¦¹à¦¾à¦‡ ${userName}! à¦•à§‡à¦®à¦¨ à¦†à¦›à§‹? ğŸ˜Š`,
        `ğŸ‘‹ à¦¹à¦¾à¦‡ ${userName}! à¦¸à§à¦¬à¦¾à¦—à¦¤à¦®! âœ¨`,
        `ğŸŒˆ à¦¹à¦¾à¦‡ ${userName}! à¦†à¦œà¦•à§‡à¦° à¦¦à¦¿à¦¨à¦Ÿà¦¾ à¦•à§‡à¦®à¦¨?`
      ],
      salam: [
        `ğŸŒ™ **à¦“à¦¯à¦¼à¦¾ à¦†à¦²à¦¾à¦‡à¦•à§à¦®à§à¦¸ à¦¸à¦¾à¦²à¦¾à¦®** ${userName}!\nà¦†à¦²à§à¦²à¦¾à¦¹ à¦¤à§‹à¦®à¦¾à¦•à§‡ à¦¶à¦¾à¦¨à§à¦¤à¦¿ à¦¦à¦¾à¦¨ à¦•à¦°à§à¦¨à¥¤ ğŸ¤²`,
        `ğŸ•Œ **à¦“à¦¯à¦¼à¦¾ à¦†à¦²à¦¾à¦‡à¦•à§à¦®à§à¦¸ à¦¸à¦¾à¦²à¦¾à¦® à¦“à¦¯à¦¼à¦¾ à¦°à¦¹à¦®à¦¾à¦¤à§à¦²à§à¦²à¦¾à¦¹!**\nà¦•à§‡à¦®à¦¨ à¦†à¦›à§‹? ğŸ˜Š`
      ],
      gm: [
        `â˜€ï¸ à¦¶à§à¦­ à¦¸à¦•à¦¾à¦² ${userName}! à¦†à¦œà¦•à§‡à¦° à¦¦à¦¿à¦¨à¦Ÿà¦¾ à¦¸à§à¦¨à§à¦¦à¦° à¦¹à§‹à¦•! ğŸŒ¸`,
        `ğŸŒ à¦—à§à¦¡ à¦®à¦°à§à¦¨à¦¿à¦‚ ${userName}! à¦¨à¦¤à§à¦¨ à¦¦à¦¿à¦¨à§‡à¦° à¦¶à§à¦­à¦•à¦¾à¦®à¦¨à¦¾!`
      ],
      gn: [
        `ğŸŒ™ à¦¶à§à¦­ à¦°à¦¾à¦¤à§à¦°à¦¿ ${userName}! à¦®à¦¿à¦·à§à¦Ÿà¦¿ à¦¸à§à¦¬à¦ªà§à¦¨ à¦¦à§‡à¦–à§‹! ğŸ˜´`,
        `â­ à¦—à§à¦¡ à¦¨à¦¾à¦‡à¦Ÿ ${userName}! à¦†à¦²à§à¦²à¦¾à¦¹ à¦¹à¦¾à¦«à§‡à¦œ!`
      ],
      thanks: [
        `ğŸ’– à¦¸à§à¦¬à¦¾à¦—à¦¤à¦® ${userName}! à¦¤à§‹à¦®à¦¾à¦° à¦§à¦¨à§à¦¯à¦¬à¦¾à¦¦à§‡à¦° à¦œà¦¨à§à¦¯! ğŸ˜Š`,
        `ğŸ™ à¦§à¦¨à§à¦¯à¦¬à¦¾à¦¦ ${userName}! à¦¤à§à¦®à¦¿ à¦¸à§‡à¦°à¦¾!`
      ],
      love: [
        `â¤ï¸ à¦†à¦®à¦¿à¦“ à¦¤à§‹à¦®à¦¾à¦•à§‡ à¦­à¦¾à¦²à§‹à¦¬à¦¾à¦¸à¦¿ ${userName}! ğŸ’•`,
        `ğŸ’ à¦²à¦¾à¦­ à¦‡à¦‰ à¦Ÿà§ ${userName}! à¦¤à§à¦®à¦¿ à¦†à¦®à¦¾à¦° à¦«à§‡à¦­à¦¾à¦°à¦¿à¦Ÿ! ğŸ˜˜`
      ],
      bye: [
        `ğŸ‘‹ à¦¬à¦¾à¦‡ ${userName}! à¦†à¦¬à¦¾à¦° à¦¦à§‡à¦–à¦¾ à¦¹à¦¬à§‡! ğŸ˜Š`,
        `ğŸŒŸ à¦–à§‹à¦¦à¦¾ à¦¹à¦¾à¦«à§‡à¦œ ${userName}! à¦­à¦¾à¦²à§‹ à¦¥à§‡à¦•à§‹!`
      ]
    };

    const random = arr => arr[Math.floor(Math.random() * arr.length)];

    let replyMsg = null;
    let category = null;

    // à¦šà§‡à¦• à¦•à¦°à¦¾
    for (const [key, words] of Object.entries(triggers)) {
      if (words.some(word => lowerMsg.includes(word))) {
        replyMsg = random(replies[key]);
        category = key;
        break;
      }
    }

    // à¦°à¦¿à¦ªà§à¦²à¦¾à¦‡ à¦ªà¦¾à¦ à¦¾à¦¨à§‹
    if (replyMsg) {
      api.sendMessage({
        body: replyMsg,
        mentions: [{ tag: userName, id: event.senderID }]
      }, event.threadID, null, event.messageID);
    }
  }
};
